- virsh.memtune:
    type = virsh_memtune
    # Values are in kbs
    variants:
        - positive_test:
            variants:
                - normal_1:  
                    hard_limit = -1
                - normal_2:  
                    soft_limit = -1
                - normal_3:  
                    swap_hard_limit = -1
                - normal_4:  
                    hard_limit = -100
                - normal_5:  
                    hard_limit = 600000
                - normal_6:  
                    soft_limit = 0
                - normal_7:  
                    restart_libvirtd = "yes"
                    set_in_one_command = "yes"
                    hard_limit = 1111111
                    soft_limit = 222222
                    swap_hard_limit = 3333333
                - step_increment:
                    step_mem = "yes"
                    base_mem = 1048576
                    min_mem = 262144
                    hard_base_mem = 262144
                    soft_base_mem = 262144
        - negative_test:
            expect_error = "yes"
            variants:
                - invalid_1:
                    hard_limit = 0
                    error_info="Unable to write to '.*scope/memory.limit_in_bytes': Device or resource busy"
                - invalid_2:
                    soft_limit = "aaaa"
                    error_info="Unable to parse integer parameter soft-limit"
                - invalid_3:
                    swap_hard_limit = 0xffff
                    error_info="invalid argument: unknown suffix"
                - invalid_4:
                    set_in_one_command = "yes"
                    #hard_limit is bigger than swap_hard_limit
                    hard_limit = 1111111
                    soft_limit = 10000
                    swap_hard_limit = 333333
                    error_info="invalid argument:.*hard_limit.*lower than.*swap_hard_limit"
